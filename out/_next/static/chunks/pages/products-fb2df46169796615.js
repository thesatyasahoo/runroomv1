(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{47638:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return a(56616)}])},45102:function(e,t,a){"use strict";a.d(t,{J:function(){return n}});var r=a(57632),n=[{id:(0,r.Z)(),address:{country:"USA",state:"West Virginia",city:"Parkersburg",street:"2849 Fulton Street"},avatarUrl:"/static/images/avatars/avatar_3.png",createdAt:15550164e5,email:"ekaterina.tankova@devias.io",name:"Ekaterina Tankova",phone:"304-428-3097"},{id:(0,r.Z)(),address:{country:"USA",state:"Bristow",city:"Iowa",street:"1865  Pleasant Hill Road"},avatarUrl:"/static/images/avatars/avatar_4.png",createdAt:15550164e5,email:"cao.yu@devias.io",name:"Cao Yu",phone:"712-351-5711"},{id:(0,r.Z)(),address:{country:"USA",state:"Georgia",city:"Atlanta",street:"4894  Lakeland Park Drive"},avatarUrl:"/static/images/avatars/avatar_2.png",createdAt:15550164e5,email:"alexa.richardson@devias.io",name:"Alexa Richardson",phone:"770-635-2682"},{id:(0,r.Z)(),address:{country:"USA",state:"Ohio",city:"Dover",street:"4158  Hedge Street"},avatarUrl:"/static/images/avatars/avatar_5.png",createdAt:155493e7,email:"anje.keizer@devias.io",name:"Anje Keizer",phone:"908-691-3242"},{id:(0,r.Z)(),address:{country:"USA",state:"Texas",city:"Dallas",street:"75247"},avatarUrl:"/static/images/avatars/avatar_6.png",createdAt:15547572e5,email:"clarke.gillebert@devias.io",name:"Clarke Gillebert",phone:"972-333-4106"},{id:(0,r.Z)(),address:{country:"USA",state:"California",city:"Bakerfield",street:"317 Angus Road"},avatarUrl:"/static/images/avatars/avatar_1.png",createdAt:15546708e5,email:"adam.denisov@devias.io",name:"Adam Denisov",phone:"858-602-3409"},{id:(0,r.Z)(),address:{country:"USA",state:"California",city:"Redondo Beach",street:"2188  Armbrester Drive"},avatarUrl:"/static/images/avatars/avatar_7.png",createdAt:15543252e5,email:"ava.gregoraci@devias.io",name:"Ava Gregoraci",phone:"415-907-2647"},{id:(0,r.Z)(),address:{country:"USA",state:"Nevada",city:"Las Vegas",street:"1798  Hickory Ridge Drive"},avatarUrl:"/static/images/avatars/avatar_8.png",createdAt:15230484e5,email:"emilee.simchenko@devias.io",name:"Emilee Simchenko",phone:"702-661-1654"},{id:(0,r.Z)(),address:{country:"USA",state:"Michigan",city:"Detroit",street:"3934  Wildrose Lane"},avatarUrl:"/static/images/avatars/avatar_9.png",createdAt:15547028e5,email:"kwak.seong.min@devias.io",name:"Kwak Seong-Min",phone:"313-812-8947"},{id:(0,r.Z)(),address:{country:"USA",state:"Utah",city:"Salt Lake City",street:"368 Lamberts Branch Road"},avatarUrl:"/static/images/avatars/avatar_10.png",createdAt:15227028e5,email:"merrile.burgett@devias.io",name:"Merrile Burgett",phone:"801-301-7894"}]},56616:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var r=a(85893),n=a(9008),i=a.n(n),o=a(61953),s=a(36336),l=a(47568),c=a(40872),d=a(26042),u=a(69396),h=a(70603),m=a(20414),p=a(67294),g=a(51964),f=a.n(g),x=a(65462),v=a(75084),Z=a(67836),y=a(49837),j=a(90244),_=a(93978),k=a(69417),b=a(5605),A=a(39807),C=a(82773),S=a(9669),w=a.n(S),P=a(9473),U=a(66986),B=a(8364),z=a(8842),W=a(772),N=a(69243),T=a(1890),D=a(76779),E=a(95398),L=a(77745),R=a(70461),M=a(70754),V=function(e){var t=(0,c.Z)({},e),a=(0,p.useState)(!1),n=a[0],i=a[1],s=(0,h.Z)((0,R.Z)(["token"]),3),g=s[0],S=(s[1],s[2],(0,p.useState)([])),V=S[0],F=(S[1],(0,p.useState)(10)),O=F[0],G=F[1],I=(0,p.useState)(0),H=I[0],K=I[1],J=(0,p.useState)([]),X=J[0],Y=J[1],q=((0,P.I0)(),(0,p.useState)({})),Q=q[0],$=q[1],ee=(0,p.useState)(!1),te=ee[0],ae=ee[1],re=(0,p.useState)(!1),ne=re[0],ie=re[1],oe=(0,p.useState)({}),se=oe[0],le=oe[1],ce=(0,p.useState)({_id:"",prod_name:"",prod_category:"",price:"",added_by:"",prod_description:[""],image:"",prod_size:""}),de=ce[0],ue=ce[1];(0,x.Eu)().user;(0,p.useEffect)((function(){he(g.token)}),[]);var he=function(){var e=(0,l.Z)((function(e){var t;return(0,m.__generator)(this,(function(a){switch(a.label){case 0:return t={},[4,w().get("http://159.223.96.89:4000/admin/productsList",(t.headers={authorization:e},t)).then((function(e){console.log(e),Y(e.data.productList)})).catch((function(e){console.log(e)}))];case 1:return a.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=(0,l.Z)((function(e){var t;return(0,m.__generator)(this,(function(a){switch(a.label){case 0:return i(!0),t={},[4,w().delete("http://159.223.96.89:4000/admin/deleteProduct/"+e._id,(t.headers={authorization:g.token},t)).then((function(e){he(g.token),i(!1)})).catch((function(e){console.log(e),i(!1)}))];case 1:return a.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,l.Z)((function(e){var t,a;return(0,m.__generator)(this,(function(r){return t={},a={},ue((0,u.Z)((0,d.Z)(t,de),(a._id=e._id,a))),console.log(e),ve(),$(e),[2]}))}));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,l.Z)((function(e){var t;return(0,m.__generator)(this,(function(a){switch(a.label){case 0:return console.log(e),console.log(de),t={},[4,w().put("http://159.223.96.89:4000/admin/editProduct/"+e._id,e,(t.headers={authorization:g.token},t)).then((function(e){he(g.token),$({}),xe()})).catch((function(e){console.log(e)}))];case 1:return a.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,l.Z)((function(e){var t,a,r,n,o,s;return(0,m.__generator)(this,(function(l){switch(l.label){case 0:return console.log(de),console.log(Q),i(!0),+(t=e.target.files[0].size)?(1024,2,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(t)/Math.log(1024)),n="".concat(parseFloat((t/Math.pow(1024,r)).toFixed(2))," ").concat(a[r]),t>6e5?(i(!1),[2,alert("Image size should not greater then 600 kb, your upload file size is "+n)]):((o=new FormData).append("image",e.target.files[0],e.target.files[0].name),s={},[4,w().put("http://159.223.96.89:4000/admin/addProdPic/"+Q._id,o,(s.headers={authorization:g.token},s)).then((function(e){i(!1),ue((0,u.Z)((0,d.Z)({},de),{image:e.data.url}))})).catch((function(e){i(!1),console.log(e)}))])):[2,"0 Bytes"];case 1:return[2,l.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),xe=function(){ae(!1)},ve=function(){ae(!0)},Ze=function(){ie(!1)};return(0,p.useEffect)((function(){he(g.token)}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{open:open.open,message:open.message,onClick:function(){return setOpen((0,u.Z)((0,d.Z)({},open),{open:!1}))},style:{cursor:"pointer"},color:"danger"}),(0,r.jsxs)(T.Z,{open:ne,maxWidth:"lg",onClose:Ze,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(L.Z,{id:"alert-dialog-title",children:"Product Details"}),(0,r.jsx)("hr",{}),(0,r.jsx)(E.Z,{style:{minWidth:"30rem"},children:(0,r.jsx)("table",{className:"table",style:{borderCollapse:"separate",borderSpacing:"0 1em"},children:(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{scope:"row",style:{paddingRight:"3rem"},children:["Name : ",se.prod_name?se.prod_name:"NA"]}),(0,r.jsxs)("td",{children:["Price : ",se.price?se.price:"NA"]})]})})})}),(0,r.jsx)(D.Z,{children:(0,r.jsx)(v.Z,{fullWidth:!0,size:"small",sx:{mt:2},onClick:function(){return Ze()},variant:"contained",color:"info",children:"close"})})]}),(0,r.jsxs)(T.Z,{open:te,maxWidth:"lg",onClose:xe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(L.Z,{id:"alert-dialog-title",children:"Update Product"}),(0,r.jsxs)(E.Z,{style:{minWidth:"30rem"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(Z.Z,{style:{marginBottom:"1rem",marginTop:"1rem"},fullWidth:!0,label:"Name",name:"prod_name",type:"text",defaultValue:Q.prod_name,onChange:function(e){ue((0,u.Z)((0,d.Z)({},de),{prod_name:e.target.value}))},variant:"outlined"})}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.Z,{style:{marginBottom:"1rem",marginTop:"1rem"},fullWidth:!0,label:"Product Category",name:"prod_category",type:"text",defaultValue:Q.prod_category,onChange:function(e){ue((0,u.Z)((0,d.Z)({},de),{prod_category:e.target.value}))},variant:"outlined"})}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.Z,{style:{marginBottom:"1rem",marginTop:"1rem"},fullWidth:!0,label:"Price",name:"price",type:"text",defaultValue:Q.price,onChange:function(e){ue((0,u.Z)((0,d.Z)({},de),{price:e.target.value}))},variant:"outlined"})}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.Z,{style:{marginBottom:"1rem",marginTop:"1rem"},fullWidth:!0,label:"Author",name:"added_by",type:"text",defaultValue:Q.added_by,onChange:function(e){ue((0,u.Z)((0,d.Z)({},de),{added_by:e.target.value}))},variant:"outlined"})}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.Z,{style:{marginBottom:"1rem",marginTop:"1rem"},fullWidth:!0,label:"Description",name:"prod_description",type:"text",defaultValue:Q.prod_description,onChange:function(e){ue((0,u.Z)((0,d.Z)({},de),{prod_description:e.target.value}))},variant:"outlined"})}),(0,r.jsx)("div",{children:(0,r.jsx)(Z.Z,{style:{marginBottom:"1rem",marginTop:"1rem"},fullWidth:!0,label:"Size",name:"prod_size",type:"text",defaultValue:Q.prod_size,onChange:function(e){ue((0,u.Z)((0,d.Z)({},de),{prod_size:e.target.value}))},variant:"outlined"})}),(0,r.jsx)("div",{children:(0,r.jsx)(U.Z.Group,{controlId:"formFile",className:"mb-3",style:{width:"100%"},children:(0,r.jsx)(U.Z.Control,{type:"file",style:{width:"100%"},onChange:function(e){return fe(e)}})})})]}),(0,r.jsxs)(D.Z,{children:[!0===n?(0,r.jsx)("div",{style:{textAlign:"center",marginTop:"1rem",width:"100%"},children:(0,r.jsx)(M.Z,{color:"primary",style:{marginLeft:"2rem"}})}):(0,r.jsx)(v.Z,{fullWidth:!0,size:"small",sx:{mt:2},onClick:function(e){return ge(de)},variant:"contained",children:"Update"}),(0,r.jsx)(v.Z,{fullWidth:!0,size:"small",sx:{mt:2},onClick:function(){return xe()},variant:"contained",color:"info",children:"close"})]})]}),(0,r.jsxs)(y.Z,(0,u.Z)((0,d.Z)({},t),{children:[(0,r.jsx)(f(),{children:(0,r.jsx)(o.Z,{sx:{minWidth:1050},children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(_.Z,{children:(0,r.jsxs)(k.Z,{children:[(0,r.jsx)(b.Z,{children:"Created At"}),(0,r.jsx)(b.Z,{children:"Name"}),(0,r.jsx)(b.Z,{children:"Price"}),(0,r.jsx)(b.Z,{children:"Action"})]})}),(0,r.jsx)(A.Z,{children:X.length>0&&!1===n?X.map((function(e){return(0,r.jsxs)(k.Z,{hover:!0,selected:-1!==V.indexOf(e._id),children:[(0,r.jsx)(b.Z,{children:e.createdAt?new Date(e.createdAt).toLocaleDateString():null}),(0,r.jsx)(b.Z,{children:e.prod_name?e.prod_name:null}),(0,r.jsx)(b.Z,{children:e.price?e.price:null}),(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(z.Z,{color:"info",onClick:function(){return t=e,ie(!0),void le(t);var t},style:{marginRight:"0.3rem",cursor:"pointer"}}),(0,r.jsx)(W.Z,{color:"success",onClick:function(){return pe(e)},style:{marginRight:"0.3rem",cursor:"pointer"}}),(0,r.jsx)(B.Z,{color:"success",onClick:function(){return me(e)},style:{cursor:"pointer",color:"red"}})]})]},e._id)})):(0,r.jsx)(k.Z,{hover:!0,selected:-1!==V.indexOf(X._id),children:(0,r.jsx)(b.Z,{colSpan:5,style:{textAlign:"center",paddingTop:"2rem"},children:(0,r.jsx)(M.Z,{color:"primary",size:80,style:{marginLeft:"2rem"}})})},X._id)})]})})}),(0,r.jsx)(C.Z,{component:"div",count:X.length,onPageChange:function(e,t){K(t)},onRowsPerPageChange:function(e){G(e.target.value)},page:H,rowsPerPage:O,rowsPerPageOptions:[5,10,25]})]}))]})},F=a(29630),O=a(11163),G=a.n(O),I=function(e){return(0,r.jsx)(o.Z,(0,u.Z)((0,d.Z)({},e),{children:(0,r.jsxs)(o.Z,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between",flexWrap:"wrap",m:-1},children:[(0,r.jsx)(F.Z,{sx:{m:1},variant:"h5",children:"Products"}),(0,r.jsx)(v.Z,{size:"mideium",sx:{mt:2},variant:"contained",onClick:function(){G().push("/productCreate").catch(console.error)},children:"Add Product"})]})}))},H=a(55950),K=a(45102),J=a(72412),X=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Products"})}),(0,r.jsx)(o.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsxs)(s.Z,{maxWidth:!1,children:[(0,r.jsx)(I,{}),(0,r.jsx)(o.Z,{sx:{mt:3},children:(0,r.jsx)(V,{runrooms:K.J})})]})})]})};X.getLayout=function(e){return(0,r.jsx)(H.c,{children:(0,r.jsx)(J.a,{children:e})})};var Y=X}},function(e){e.O(0,[834,383,836,981,423,243,487,62,433,986,927,774,888,179],(function(){return t=47638,e(e.s=t);var t}));var t=e.O();_N_E=t}]);